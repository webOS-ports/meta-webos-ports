From ef8ad89d8fc7584acc410a266003b4840f81fb33 Mon Sep 17 00:00:00 2001
From: Jiri Slaby <jslaby@suse.cz>
Date: Thu, 11 Jul 2019 09:35:13 +0200
Subject: [PATCH] fix build after y2038 changes in glibc

SIOCGSTAMP is defined in linux/sockios.h since kernel 5.2. Include that
file wherever needed.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 src/third_party/webrtc/rtc_base/physicalsocketserver.cc | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/third_party/webrtc/rtc_base/physicalsocketserver.cc b/src/third_party/webrtc/rtc_base/physicalsocketserver.cc
index 636c034e7..6c60621ea 100644
--- a/src/third_party/webrtc/rtc_base/physicalsocketserver.cc
+++ b/src/third_party/webrtc/rtc_base/physicalsocketserver.cc
@@ -69,6 +69,7 @@ typedef void* SockOptArg;
 #endif  // WEBRTC_POSIX
 
 #if defined(WEBRTC_POSIX) && !defined(WEBRTC_MAC) && !defined(__native_client__)
+#include <linux/sockios.h>
 
 int64_t GetSocketRecvTimestamp(int socket) {
   struct timeval tv_ioctl;
-- 
2.17.1


From 641bc310d28570e8bf89fa25d5b28fd1920848ff Mon Sep 17 00:00:00 2001
From: Christophe Chapuis <chris.chapuis@gmail.com>
Date: Mon, 7 Mar 2022 20:56:06 +0000
Subject: [PATCH] Add basic implementation for getResource for webOSSystem

Signed-off-by: Christophe Chapuis <chris.chapuis@gmail.com>
---
 src/platform/webengine/palm_system_blink.cc | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/platform/webengine/palm_system_blink.cc b/src/platform/webengine/palm_system_blink.cc
index 99b8307..06185c3 100644
--- a/src/platform/webengine/palm_system_blink.cc
+++ b/src/platform/webengine/palm_system_blink.cc
@@ -169,6 +169,12 @@ std::string PalmSystemBlink::HandleBrowserControlMessage(
           PMLOGKS("INSTANCE_ID", app_->InstanceId().c_str()),
           PMLOGKS("URL", arguments[0].c_str()), "Page is NOT in closing");
     }
+  } else if (command == "getResource") {
+    if (arguments.size() == 1) {
+      std::string path = arguments[0];
+      std::string file_str = util::ReadFile(path);
+      return file_str;
+    }
   }
 
   return std::string();
-- 
2.17.1


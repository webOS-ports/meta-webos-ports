From b450c331d451af5d2d559f5d01aea2564ab2df7e Mon Sep 17 00:00:00 2001
From: Herman van Hazendonk <github.com@herrie.org>
Date: Wed, 14 Dec 2022 11:48:07 +0100
Subject: [PATCH] Add systemd service file

Upstream-Status: Pending
---
 files/systemd/webos-connman-adapter.service | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)
 create mode 100644 files/systemd/webos-connman-adapter.service

diff --git a/files/systemd/webos-connman-adapter.service b/files/systemd/webos-connman-adapter.service
new file mode 100644
index 0000000..15450d0
--- /dev/null
+++ b/files/systemd/webos-connman-adapter.service
@@ -0,0 +1,16 @@
+[Unit]
+Description=webos - "%n"
+Requires=ls-hubd.service
+Wants=connman.service
+After=ls-hubd.service connman.service
+
+[Service]
+Type=simple
+OOMScoreAdjust=-500
+EnvironmentFile=-/var/systemd/system/env/webos-connman-adapter.env
+ExecStartPre=-/usr/bin/connmanctl enable gadget
+ExecStart=/usr/sbin/webos-connman-adapter
+Restart=on-failure
+
+[Install]
+WantedBy=multi-user.target
-- 
2.37.3.windows.1


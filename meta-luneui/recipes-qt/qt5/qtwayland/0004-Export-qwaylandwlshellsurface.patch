From 724004475e420469c2d1efcfb1c17dd4cf377b80 Mon Sep 17 00:00:00 2001
From: Roman Genhel <roman.genhel@lge.com>
Date: Wed, 5 Feb 2020 08:15:20 +0000
Subject: [PATCH] Export qwaylandwlshellsurface

Change-Id: Icf0860ea7fe984053a7b827bf21f121a0f6f8ebd

---
 src/exports/exports.pro                           |  2 ++
 src/exports/shellintegration/shellintegration.pro |  2 ++
 .../shellintegration/wl-shell/wl-shell.pro        | 15 +++++++++++++++
 src/src.pro                                       |  6 ++++++
 4 files changed, 25 insertions(+)
 create mode 100644 src/exports/exports.pro
 create mode 100644 src/exports/shellintegration/shellintegration.pro
 create mode 100644 src/exports/shellintegration/wl-shell/wl-shell.pro

diff --git a/src/exports/exports.pro b/src/exports/exports.pro
new file mode 100644
index 00000000..bc59a319
--- /dev/null
+++ b/src/exports/exports.pro
@@ -0,0 +1,2 @@
+TEMPLATE = subdirs
+SUBDIRS += shellintegration
diff --git a/src/exports/shellintegration/shellintegration.pro b/src/exports/shellintegration/shellintegration.pro
new file mode 100644
index 00000000..cfc6c6d3
--- /dev/null
+++ b/src/exports/shellintegration/shellintegration.pro
@@ -0,0 +1,2 @@
+TEMPLATE = subdirs
+SUBDIRS += wl-shell
diff --git a/src/exports/shellintegration/wl-shell/wl-shell.pro b/src/exports/shellintegration/wl-shell/wl-shell.pro
new file mode 100644
index 00000000..c33d91a8
--- /dev/null
+++ b/src/exports/shellintegration/wl-shell/wl-shell.pro
@@ -0,0 +1,15 @@
+TEMPLATE = lib
+TARGET = Qt5WaylandShellSurface
+
+QT += waylandclient-private
+CONFIG += no_install_prl
+
+HEADERS = ../../../plugins/shellintegration/wl-shell/qwaylandwlshellsurface_p.h
+SOURCES = ../../../plugins/shellintegration/wl-shell/qwaylandwlshellsurface.cpp
+
+headers.files += $$HEADERS
+headers.path += $$[QT_INSTALL_HEADERS]/QtWaylandClient/$$MODULE_VERSION/QtWaylandClient/private
+
+target.path = $$[QT_INSTALL_LIBS]
+
+INSTALLS += headers target
diff --git a/src/src.pro b/src/src.pro
index 3d68c69f..59114034 100644
--- a/src/src.pro
+++ b/src/src.pro
@@ -35,3 +35,9 @@ qtConfig(wayland-client)|qtConfig(wayland-server) {
     sub_imports.target = sub-imports
     SUBDIRS += sub_imports
 }
+
+# Exports for webOS
+sub_exports.subdir = exports
+sub_exports.depends += sub_client
+sub_exports.target = sub-exports
+SUBDIRS += sub_exports
